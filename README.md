# DZ3
1.          
Отчет по домашнему заданию №3
«Строковый калькулятор»

2. Условие задачи
Разработать консольное приложение «строковый калькулятор», которое вычисляет значение математического выражения, введенного пользователем в инфиксной форме.

Критерии оценивания:

На «удовлетворительно»: поддержка базовых арифметических операций (+, -, *, /) и числовых констант.

На «хорошо»: дополнительная поддержка скобок для задания приоритета операций и проверка корректности введенного выражения.

На «отлично»: дополнительная поддержка функций (sin, cos, tg, ctg, exp) и переменной x с запросом её значения при наличии в выражении.

3. Схема алгоритма
3.1. Общая структура программы
Программа состоит из следующих компонентов:

Главный модуль (DZ3.cpp) – точка входа, обработка пользовательского ввода.

Заголовочный файл (header.hpp) – содержит реализацию алгоритмов преобразования и вычисления выражений.

3.2. Алгоритм преобразования инфиксной записи в постфиксную (обратную польскую запись)
Метод: алгоритм сортировочной станции (shunting-yard algorithm).

Шаги алгоритма:

Токенизация входной строки:

Разделение выражения на элементы: числа, операторы, функции, скобки, переменную x.

Особый случай: обработка унарного минуса (например, -5 преобразуется в 0-5).

Обработка токенов:

Числа и переменная x: сразу добавляются в выходную очередь.

Функции (sin, cos, tg, ctg, exp): помещаются в стек операторов.

*Операторы (+, -, , /, ^):

Пока на вершине стека находится оператор с равным или высшим приоритетом – перекладываем его в выходную очередь.

Помещаем текущий оператор в стек.

Левая скобка (: помещается в стек.

Правая скобка ): выталкиваем операторы из стека в выходную очередь до левой скобки, затем удаляем скобку.

Завершение: выталкиваем все оставшиеся операторы из стека в выходную очередь.

3.3. Алгоритм вычисления постфиксного выражения
Используется стек для промежуточных результатов.

Шаги:

Чтение очереди постфиксной записи.

Если элемент – число: помещаем в стек.

Если элемент – переменная x: подставляем значение и помещаем в стек.

Если элемент – оператор или функция:

Извлекаем необходимое количество операндов из стека.

Выполняем операцию.

Результат помещаем в стек.

По окончании вычислений результат находится на вершине стека.

3.4. Проверка наличия переменной x
Перед вычислением осуществляется проход по очереди постфиксной записи для определения необходимости запроса значения переменной x у пользователя.

4. Контрольный расчет
Пример 1: Базовые операции
text

Введите выражение: 3 + 5 * 2
Результат: 13
Пример 2: Со скобками
text

Введите выражение: (3 + 5) * 2
Результат: 16
Пример 3: С функциями и переменной
text

Введите выражение: cos(x-5)*10/(2*x-5)
Введите x: 5
Результат: 2
Пример 4: Сложное выражение с функциями
text

Введите выражение: sin(0.5) + exp(1) * 2
Результат: 5.43849
Пример 5: Унарный минус
text

Введите выражение: -5 + 3
Результат: -2
6. Выводы
В ходе выполнения работы было разработано консольное приложение «строковый калькулятор», реализующее следующие функции:

Преобразование математических выражений из инфиксной формы в постфиксную с использованием алгоритма сортировочной станции.

Поддержка базовых арифметических операций, скобок, математических функций (sin, cos, tg, ctg, exp) и переменной x.

Корректная обработка унарного минуса.

Вычисление значений выражений с использованием стека.

Заключение: поставленная задача выполнена в полном объеме. Программа демонстрирует применение классических алгоритмов обработки математических выражений.
